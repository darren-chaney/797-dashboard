<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>797 Distillery — Monthly TTB Reports</title>

  <!-- =========================================================
       GLOBAL HEADER STYLES (shared across all tools)
       ========================================================= -->
  <link rel="stylesheet" href="header.css" />

  <!-- =========================================================
       REPORTS PAGE STYLES (tables, banners, buttons)
       ========================================================= -->
  <link rel="stylesheet" href="reports.css" />
</head>

<body>

  <!-- =========================================================
       GLOBAL HEADER (loaded via header.html fetch)
       ========================================================= -->
  <div id="global-header"></div>

  <!-- =========================================================
       MAIN REPORTS CONTAINER
       ========================================================= -->
  <main class="reports-container">

    <!-- =======================================================
         PAGE HEADER + FILING MONTH BANNER
         MUST always be visible
         ======================================================= -->
    <header class="reports-header">
      <h1>Monthly TTB Reports</h1>

      <!-- Filing month is injected by reports.js -->
      <div id="reportMonthBanner" class="month-banner warning">
        Filing Month: <span id="filingMonthLabel">Loading…</span>
      </div>
    </header>

    <!-- =======================================================
         TTB 5110.40 — PRODUCTION
         ======================================================= -->
    <section class="report-card">
      <h2>TTB 5110.40 — Production</h2>

      <table class="report-table">
        <thead>
          <tr>
            <th>Line</th>
            <th>Description</th>
            <th>Pay.gov Label</th>
            <th>Instruction</th>
            <th>Value (PG)</th>
            <th></th>
          </tr>
        </thead>

        <!-- Populated by reports.js -->
        <tbody id="productionTable"></tbody>
      </table>
    </section>

    <!-- =======================================================
         TTB 5110.28 — PROCESSING
         ======================================================= -->
    <section class="report-card">
      <h2>TTB 5110.28 — Processing</h2>

      <table class="report-table">
        <thead>
          <tr>
            <th>Line</th>
            <th>Description</th>
            <th>Pay.gov Label</th>
            <th>Instruction</th>
            <th>Value (PG)</th>
            <th></th>
          </tr>
        </thead>

        <!-- Populated by reports.js -->
        <tbody id="processingTable"></tbody>
      </table>
    </section>

    <!-- =======================================================
         TTB 5110.11 — STORAGE
         ======================================================= -->
    <section class="report-card">
      <h2>TTB 5110.11 — Storage</h2>

      <table class="report-table">
        <thead>
          <tr>
            <th>Line</th>
            <th>Description</th>
            <th>Pay.gov Label</th>
            <th>Instruction</th>
            <th>Value (PG)</th>
            <th></th>
          </tr>
        </thead>

        <!-- Populated by reports.js -->
        <tbody id="storageTable"></tbody>
      </table>
    </section>

  </main>

  <!-- =========================================================
       LOAD GLOBAL HEADER (same pattern as compliance landing page)
       ========================================================= -->
  <script>
    fetch("header.html")
      .then(r => r.text())
      .then(html => {
        document.getElementById("global-header").innerHTML = html;
      })
      .catch(() => {
        // If header.html is missing, fail gracefully instead of breaking reports
        document.getElementById("global-header").innerHTML = "";
      });
  </script>

  <!-- =========================================================
       REPORTS PAGE LOGIC (Firebase + calculations)
       ========================================================= -->
  <script type="module" src="reports.js"></script>
</body>
</html>
