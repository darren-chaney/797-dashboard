<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Compliance – Bottling Log</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Global header styles -->
  <link rel="stylesheet" href="header.css" />
</head>

<body>

  <!-- GLOBAL HEADER -->
  <div id="global-header"></div>

  <main class="page">

    <header class="page-header">
      <h1>Bottling Log</h1>
      <div id="monthStatus" class="muted">
        Loading month…
      </div>
    </header>

    <!-- ADD BOTTLING ENTRY -->
    <section class="module">
      <h2>Add Bottling Entry</h2>

      <form id="bottlingForm">

        <div class="form-row">
          <label for="bottlingDate">Bottling Date</label>
          <input type="date" id="bottlingDate" required />
        </div>

        <div class="form-row">
          <label for="productName">Product Name</label>
          <input
            type="text"
            id="productName"
            placeholder="Peach Cobbler Moonshine"
            required
          />
        </div>

        <div class="form-row">
          <label for="productType">Product Type</label>
          <select id="productType" required>
            <option value="">Select…</option>
            <option value="moonshine">Moonshine</option>
            <option value="rum">Rum</option>
            <option value="vodka">Vodka</option>
            <option value="whiskey">Whiskey</option>
          </select>
        </div>

        <div class="form-row">
          <label for="proof">Proof</label>
          <input type="number" id="proof" step="0.1" required />
        </div>

        <div class="form-row">
          <label>Bottles</label>

          <div id="bottleRows"></div>

          <button type="button" id="addBottleRow">
            + Add Bottle Size
          </button>
        </div>

        <div class="form-row">
          <label for="notes">Notes (optional)</label>
          <textarea id="notes" rows="2"></textarea>
        </div>

        <div class="form-row">
          <strong>Calculated Totals</strong>
          <div id="calculatedTotals" class="muted">
            Enter bottle sizes and proof
          </div>
        </div>

        <button type="submit" class="primary">
          Save Bottling Entry
        </button>

      </form>
    </section>

    <!-- EXISTING ENTRIES -->
    <section class="module">
      <h2>Entries</h2>
      <div id="entriesList">
        Loading…
      </div>
    </section>

  </main>

  <!-- LOAD GLOBAL HEADER -->
  <script>
    fetch("header.html")
      .then(r => r.text())
      .then(html => {
        document.getElementById("global-header").innerHTML = html;
      });
  </script>

  <script type="module" src="bottling.js"></script>
</body>
</html>
